<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Dashboard</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/ce010c3ee9.js" crossorigin="anonymous"></script>
</head>

<body>
    <div class="container">
    <div class="header">
        <h1>Weather Dashboard</h1>
    </div>
    <div class="row">
        <!-- Search and History Panel -->
        <div class='col-4 sidePanel'>
            <h5>Search for a City:</h5>
            <div class="form-group">
                <div class="input-group">
                    <input class="form-control" placeholder="Search">
                    <span class="input-group-btn">
                        <button type="text" class="btn btn-info search"><i class="fas fa-search"></i></button>
                    </span>
                </div>
            </div>
            <div class= "historyDiv">
                <p>History:</p>
            </div>
        </div>
        <!-- Weather Current Data and Forecast -->
        <div class= "col-8">
            <br>
            <div class= "card">
                <h2 class="cityName">Sample City + Date</h2>
                <p class = "temp">Temperature: </p>
                <br>
                <p class = "humid">Humdity: </p>
                <br>
                <p class = "windspeed">Wind Speed: </p>
                <br>
                <p class = "UVi">UV Index: </p>
            </div>
            <h3> 5-Day Forecast:</h3>
            <div class= buttonsGroup></div>
        </div>
    </div>



    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript"></script>
    <script>

        var APIKey = "4c19bdbf48f17cef671da21f63c3f39d";

        function getForecast(cityName) {

            var city = cityName;
            var queryUrl = "https://api.openweathermap.org/data/2.5/forecast?q=" + city + "&appid=" + APIKey

            $.ajax({
                url: queryUrl,
                method: "GET"
            }).then(function (response) {

                var lat = response.city.coord["lat"];
                var lon = response.city.coord["lon"];

                var queryUrl = "https://api.openweathermap.org/data/2.5/onecall?lat=" + lat + "&lon=" + lon + "&exclude=hourly,minutely,alert&appid=510c7f3ff27ad1727021b6aa3db8d1b0"

                $.ajax({
                    url: queryUrl,
                    method: "GET"

                }).then(function (response) {

                    console.log(response);

                })
            })

        }

        getForecast("london");
    </script>

</body>

</html>